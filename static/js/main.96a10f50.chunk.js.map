{"version":3,"sources":["contexts/SearchContext.js","components/SuggestionList.js","components/Autocomplete.js","components/CardView.js","App.js","index.js"],"names":["SearchContext","createContext","SearchContextProvider","props","useState","suggestion","setSuggestion","activeSuggestion","setActiveSuggestion","isLoading","setIsLoading","userInput","setUserInput","showSuggestion","setShowSuggestion","card","setCard","URL","Provider","value","onKeyDown","e","conditionalView","keyCode","preventDefault","length","onSubmit","a","async","axios","get","response","data","isCancel","onClick","currentTarget","innerText","input","children","Dropdown","styled","ul","ListItem","li","SuggestionList","useContext","style","display","map","item","index","id","key","onMouseOver","Number","className","searchIcon","icon","faSearch","Button","button","Autocomplete","searchRef","useRef","handleClick","current","contains","target","console","log","useEffect","document","addEventListener","removeEventListener","toString","autocompleteSearch","ref","boxSizing","border","padding","width","margin","type","placeholder","minLength","debounceTimeout","onChange","CardContainer","div","CardImage","img","InfoList","CardInfo","CenterText","p","SuperSpan","span","CardView","src","image_uris","small","alt","name","mana_cost","cmc","type_line","oracle_text","colors","set","toUpperCase","prices","usd","height","flexDirection","alignItems","justifyContent","borderBottom","GlobalStyle","createGlobalStyle","AppContainer","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.96a10f50.chunk.js","sourcesContent":["import React, { createContext, useState } from \"react\"\nimport axios from \"axios\"\n\nexport const SearchContext = createContext()\n\nconst SearchContextProvider = props => {\n  const [suggestion, setSuggestion] = useState([])\n  const [activeSuggestion, setActiveSuggestion] = useState(0)\n  const [isLoading, setIsLoading] = useState(false)\n  const [userInput, setUserInput] = useState(\"\")\n  const [showSuggestion, setShowSuggestion] = useState(false)\n  const [card, setCard] = useState()\n\n  const URL = \"https://api.scryfall.com/cards/\"\n\n  const onKeyDown = e => {\n    const conditionalView = () => !showSuggestion && setShowSuggestion(true)\n    if (e.keyCode === 13) {\n      showSuggestion && e.preventDefault()\n      setUserInput(suggestion[activeSuggestion])\n      setShowSuggestion(false)\n    } else if (e.keyCode === 38) {\n      if (activeSuggestion === 0) {\n        conditionalView()\n        return\n      }\n      setActiveSuggestion(activeSuggestion - 1)\n      conditionalView()\n    } else if (e.keyCode === 40) {\n      if (activeSuggestion + 1 >= suggestion.length) {\n        setActiveSuggestion(suggestion.length - 1)\n        conditionalView()\n      } else {\n        setActiveSuggestion(activeSuggestion + 1)\n        conditionalView()\n      }\n    }\n  }\n\n  const onClick = async e => {\n    setActiveSuggestion(0)\n    setShowSuggestion(false)\n    setUserInput(e.currentTarget.innerText)\n    const input = e.currentTarget.innerText\n    setIsLoading(true)\n    try {\n      const response = await axios.get(`${URL}named?exact=${input}`)\n      const data = response.data\n      setCard(data)\n    } catch (error) {\n      if (axios.isCancel(error)) {\n        //request cancelled\n      } else {\n        throw error\n      }\n    }\n    setUserInput(\"\")\n    setIsLoading(false)\n    return\n  }\n\n  const onSubmit = async e => {\n    e.preventDefault()\n    setIsLoading(true)\n    try {\n      const response = await axios.get(`${URL}named?exact=${userInput}`)\n      const data = response.data\n      setCard(data)\n    } catch (error) {\n      if (axios.isCancel(error)) {\n        //request cancelled\n      } else {\n        throw error\n      }\n    }\n    setUserInput(\"\")\n    setIsLoading(false)\n    return\n  }\n\n  return (\n    <SearchContext.Provider\n      value={{\n        suggestion,\n        setSuggestion,\n        activeSuggestion,\n        setActiveSuggestion,\n        showSuggestion,\n        setShowSuggestion,\n        isLoading,\n        setIsLoading,\n        userInput,\n        setUserInput,\n        onKeyDown,\n        onSubmit,\n        card,\n        setCard,\n        onClick,\n        URL\n      }}\n    >\n      {props.children}\n    </SearchContext.Provider>\n  )\n}\n\nexport default SearchContextProvider\n","import React, { useContext } from \"react\"\nimport { SearchContext } from \"../contexts/SearchContext\"\nimport styled from \"styled-components\"\nimport axios from \"axios\"\n\nconst Dropdown = styled.ul`\n  box-sizing: border-box;\n  z-index: 9;\n  padding-left: 4px;\n  overflow-y: auto;\n  width: 320px;\n  max-height: 200px;\n  margin-left: 16px;\n  margin-top: 0;\n  border: 1px grey solid;\n  position: absolute;\n  background-color: white;\n`\n\nconst ListItem = styled.li`\n  list-style: none;\n  padding: 2px;\n  font-size: 0.8rem;\n  text-decoration: none;\n  color: black;\n  cursor: pointer;\n`\n\nconst SuggestionList = () => {\n  const {\n    suggestion,\n    showSuggestion,\n    activeSuggestion,\n    setActiveSuggestion,\n    onClick\n  } = useContext(SearchContext)\n\n  return (\n    <div>\n      <Dropdown style={{ display: showSuggestion === false && \"none\" }}>\n        {suggestion.map((item, index) => (\n          <ListItem\n            id={index}\n            key={index}\n            onMouseOver={e => setActiveSuggestion(Number(e.currentTarget.id))}\n            className={\n              index === activeSuggestion ? \"active-suggestion\" : \"suggestion\"\n            }\n            onClick={onClick}\n          >\n            {item}\n          </ListItem>\n        ))}\n      </Dropdown>\n    </div>\n  )\n}\n\nexport default SuggestionList\n","import React, { useContext, useEffect, useRef } from \"react\"\nimport { SearchContext } from \"../contexts/SearchContext\"\nimport axios from \"axios\"\nimport { DebounceInput } from \"react-debounce-input\"\nimport SuggestionList from \"./SuggestionList\"\nimport styled from \"styled-components\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\"\n\nconst searchIcon = <FontAwesomeIcon icon={faSearch} />\n\nconst Button = styled.button`\n  height: 27px;\n  width: 27px\n  border: 0\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n  background-color: #8f2e04;\n  color: #f5efe9\n`\n\nconst Autocomplete = () => {\n  const {\n    setSuggestion,\n    setShowSuggestion,\n    setActiveSuggestion,\n    userInput,\n    setUserInput,\n    onKeyDown,\n    onSubmit,\n    onClick,\n    URL\n  } = useContext(SearchContext)\n\n  const searchRef = useRef()\n\n  const handleClick = e => {\n    if (!searchRef.current.contains(e.target)) {\n      console.log(!searchRef.current.contains(e.target))\n      setShowSuggestion(false)\n    }\n  }\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClick)\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClick)\n    }\n  }, [])\n\n  useEffect(() => {\n    async function autocompleteSearch() {\n      try {\n        const response = await axios.get(`${URL}autocomplete?q=${userInput}`)\n        const data = response.data.data\n        setSuggestion(data)\n        if (!!data[0] && data[0].toString() !== userInput) {\n          setShowSuggestion(true)\n        }\n        setActiveSuggestion(0)\n      } catch (error) {\n        if (axios.isCancel(error)) {\n          //request cancelled\n        } else {\n          throw error\n        }\n      }\n    }\n    if (!!userInput && userInput.length > 2) {\n      autocompleteSearch()\n    }\n  }, [userInput])\n\n  return (\n    <div ref={searchRef}>\n      <form onSubmit={onSubmit}>\n        <DebounceInput\n          style={{\n            boxSizing: \"border-box\",\n            border: \"1px solid #999\",\n            padding: \"5px\",\n            width: \"320px\",\n            margin: \"1rem 0 0 1rem \"\n          }}\n          type=\"text\"\n          placeholder=\"Search here...\"\n          minLength={3}\n          debounceTimeout={300}\n          value={userInput}\n          onChange={e => setUserInput(e.target.value)}\n          onKeyDown={onKeyDown}\n        />\n        <Button value=\"submit\">{searchIcon}</Button>\n      </form>\n      <SuggestionList />\n    </div>\n  )\n}\n\nexport default Autocomplete\n","import React, { useContext } from \"react\"\nimport { SearchContext } from \"../contexts/SearchContext\"\nimport styled from \"styled-components\"\n\nconst CardContainer = styled.div`\n  position: relative;\n  z-index: 0;\n  margin-top: 1rem;\n`\nconst CardImage = styled.img`\n  margin-left: 1.4rem;\n  display: inline-block;\n`\nconst InfoList = styled.ul`\nmargin: 0 0 0 1.4rem\ndisplay: inline-block\nposition: absolute\npadding-left: 0.5rem\nmax-width: 150px\n`\nconst CardInfo = styled.li`\nmin-width: 146px;\n  font-size: 0.6rem;\n  padding: 0.2rem;\n  margin: 0.2rem;\n  border-left: 7px solid #211100\n  background-color: #8f2e04\n  color: white\n  list-style: none;\n`\n\nconst CenterText = styled.p`\n  text-align: center;\n  font-size: 1rem;\n`\n\nconst SuperSpan = styled.span`\n  opacity: 0\n\n  color: purple;\nfont-size: 1.6rem\n\n:hover {\n  opacity: 1\n  transition: 10s;\n  }\n`\n\nconst CardView = () => {\n  const { card } = useContext(SearchContext)\n  return !card ? (\n    <div\n      style={{\n        height: \"70%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n      }}\n    >\n      <CenterText>Can you guess the card? Hover to check!</CenterText>\n      <CenterText style={{ borderBottom: \"1px dashed black\" }}>\n        <SuperSpan> CAMPAGNI FROCIONE </SuperSpan>\n      </CenterText>\n    </div>\n  ) : (\n    <CardContainer>\n      <CardImage src={card.image_uris.small} alt=\"card-art\"></CardImage>\n      <InfoList>\n        <CardInfo>Name: {card.name}</CardInfo>\n        <CardInfo>Mana Cost: {card.mana_cost}</CardInfo>\n        <CardInfo>CMC: {card.cmc}</CardInfo>\n        <CardInfo>Type: {card.type_line}</CardInfo>\n        <CardInfo>Text: {card.oracle_text}</CardInfo>\n        <CardInfo>Color: {card.colors}</CardInfo>\n        <CardInfo>Set: {card.set.toUpperCase()}</CardInfo>\n        <CardInfo>Price USD: {card.prices.usd}</CardInfo>\n      </InfoList>\n    </CardContainer>\n  )\n}\n\nexport default CardView\n","import React from \"react\"\nimport Autocomplete from \"./components/Autocomplete\"\nimport SearchContextProvider from \"./contexts/SearchContext\"\nimport styled, { createGlobalStyle } from \"styled-components\"\nimport CardView from \"./components/CardView\"\n\nconst GlobalStyle = createGlobalStyle`\n*{\n  box-sizing: border-box\n}\nbody {\n  font-family: Arial\n  box-sizing: border-box;\n  background-color: #1a1817\n}\n.active-suggestion {\ncolor: red;\n}\n`\nconst AppContainer = styled.div`\n  height: 400px\n  width: 380px\n  background-color: #f5efe9\n  border-bottom: 3px solid #8f2e04;\n  border-right: 3px solid #8f2e04;\n  border-radius: 5px\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  margin-right: -50%;\n  transform: translate(-50%, -45%)\n`\n\nfunction App() {\n  return (\n    <div>\n      <GlobalStyle />\n      <AppContainer>\n        <SearchContextProvider>\n          <Autocomplete />\n          <CardView />\n        </SearchContextProvider>\n      </AppContainer>\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\n\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}